<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Nexora Hub</title>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
/* --- CSS VARIABLES (The Engine) --- */
:root {
/* Appearance */
--bg-color: #0b0b0b;
--bg-gradient-1: #0b0b0b;
--bg-gradient-2: #1a1a1a;
--backdrop-blur: 0px;

/* Boxes */
--box-size: 150px;
--box-bg-color: 255, 255, 255; /* RGB for opacity */
--box-opacity: 0.05;
--box-border-color: #ffffff;
--box-border-opacity: 0.1;
--box-border-radius: 0px;
--box-hover-scale: 1.05;
--box-hover-glow: 0 0 20px rgba(255,255,255,0.2);

/* Text */
--font-family: 'Segoe UI', sans-serif;
--font-size: 16px;
--font-color: #ffffff;
--font-weight: normal;

/* Layout */
--grid-cols: 4;
--grid-gap: 0px;
--grid-padding: 20px;

/* Top Bar */
--topbar-bg: rgba(0,0,0,0.8);
--topbar-height: 50px;
--topbar-color: #ffffff;
}

/* --- GLOBAL STYLES --- */
body {
margin: 0;
height: 100vh;
background-color: var(--bg-color);
background-image: linear-gradient(135deg, var(--bg-gradient-1), var(--bg-gradient-2));
font-family: var(--font-family);
color: var(--font-color);
overflow: hidden;
transition: background 0.5s ease;
}

/* Particle Canvas */
#particleCanvas {
position: fixed;
top: 0; left: 0;
width: 100%; height: 100%;
z-index: 0;
pointer-events: none;
backdrop-filter: blur(var(--backdrop-blur));
}

/* --- TOP BAR --- */
.top-bar {
position: fixed;
top: 0; width: 100%;
height: var(--topbar-height);
background: var(--topbar-bg);
color: var(--topbar-color);
display: flex;
justify-content: space-between;
align-items: center;
padding: 0 20px;
box-sizing: border-box;
z-index: 100;
backdrop-filter: blur(5px);
border-bottom: 1px solid rgba(255,255,255,0.1);
}

.nav-group { display: flex; align-items: center; gap: 20px; }

button.text-btn {
background: none; border: none;
color: inherit; font-family: inherit;
cursor: pointer; font-size: 1rem;
opacity: 0.8; transition: 0.2s;
}
button.text-btn:hover { opacity: 1; text-shadow: 0 0 10px currentColor; }

.status-item {
display: flex; align-items: center; gap: 8px;
font-variant-numeric: tabular-nums;
}

/* --- GRID CONTAINER --- */
main {
position: relative;
z-index: 1;
height: 100vh;
display: flex;
justify-content: center;
align-items: center;
padding-top: var(--topbar-height);
}

.grid-container {
display: grid;
grid-template-columns: repeat(var(--grid-cols), var(--box-size));
grid-auto-rows: var(--box-size);
gap: var(--grid-gap);
padding: var(--grid-padding);
transition: gap 0.3s ease;
}

.box {
position: relative;
display: flex;
justify-content: center;
align-items: center;
text-align: center;
text-decoration: none;
color: var(--font-color);
font-size: var(--font-size);
font-weight: var(--font-weight);
background: rgba(var(--box-bg-color), var(--box-opacity));
border: 1px solid rgba(255,255,255, var(--box-border-opacity));
border-radius: var(--box-border-radius);
transition: all 0.2s cubic-bezier(0.25, 0.46, 0.45, 0.94);
cursor: pointer;
overflow: hidden;
}

/* Box Hover Effects */
.box:hover {
transform: scale(var(--box-hover-scale));
z-index: 10;
box-shadow: var(--box-hover-glow);
background: rgba(var(--box-bg-color), calc(var(--box-opacity) + 0.15));
border-color: rgba(255,255,255, 0.8);
}

.box span { pointer-events: none; padding: 10px; }

/* --- SETTINGS PANEL --- */
.settings-panel {
position: fixed;
top: var(--topbar-height);
right: -350px;
width: 320px;
height: calc(100vh - var(--topbar-height));
background: rgba(10, 10, 10, 0.95);
backdrop-filter: blur(15px);
border-left: 1px solid rgba(255,255,255,0.1);
z-index: 200;
transition: right 0.4s cubic-bezier(0.19, 1, 0.22, 1);
display: flex;
flex-direction: column;
color: #eee;
}

.settings-panel.open { right: 0; }

.settings-header {
padding: 15px 20px;
background: rgba(255,255,255,0.05);
display: flex;
justify-content: space-between;
align-items: center;
border-bottom: 1px solid rgba(255,255,255,0.1);
}

.settings-content {
flex: 1;
overflow-y: auto;
padding: 20px;
}

/* Controls */
.control-group { margin-bottom: 25px; }
.control-group h3 {
font-size: 12px;
text-transform: uppercase;
letter-spacing: 1px;
color: #888;
margin-bottom: 15px;
border-bottom: 1px solid #333;
padding-bottom: 5px;
}

.control-item {
margin-bottom: 12px;
display: flex;
justify-content: space-between;
align-items: center;
font-size: 14px;
}

.control-item label { opacity: 0.9; }

input[type="range"] { width: 100px; accent-color: #007bff; }
input[type="color"] { border: none; width: 30px; height: 30px; background: none; cursor: pointer; }
select { background: #333; color: white; border: 1px solid #444; padding: 4px; border-radius: 4px; }

.reset-btn {
width: 100%; padding: 10px;
background: #d9534f; color: white;
border: none; border-radius: 4px;
cursor: pointer; margin-top: 20px;
}
</style>
</head>
<body>

<canvas id="particleCanvas"></canvas>

<nav class="top-bar">
<div class="nav-group">
<button class="text-btn" onclick="toggleSettings()">
<i class="fas fa-sliders-h"></i> Settings
</button>
<span style="font-weight:bold; opacity:0.5;">|</span>
<span>Links</span>
</div>

<div class="nav-group">
<div class="status-item" id="batteryContainer">
<i class="fas fa-battery-full" id="batIcon"></i>
<span id="batLevel">100%</span>
</div>
<div class="status-item">
<span id="clock">00:00</span>
</div>
</div>
</nav>

<main>
<div id="grid" class="grid-container">
</div>
</main>

<aside class="settings-panel" id="settingsPanel">
<div class="settings-header">
<h3>Configuration</h3>
<button class="text-btn" onclick="toggleSettings()"><i class="fas fa-times"></i></button>
</div>

<div class="settings-content">

<div class="control-group">
<h3>Appearance</h3>
<div class="control-item">
<label>Bg Color</label>
<input type="color" id="bgColor" value="#0b0b0b">
</div>
<div class="control-item">
<label>Bg Gradient</label>
<input type="color" id="bgGrad" value="#1a1a1a">
</div>
<div class="control-item">
<label>Box Opacity</label>
<input type="range" id="boxOpacity" min="0" max="1" step="0.05" value="0.05">
</div>
<div class="control-item">
<label>Box Color</label>
<input type="color" id="boxColor" value="#ffffff">
</div>
<div class="control-item">
<label>Box Border Radius</label>
<input type="range" id="boxRadius" min="0" max="75" value="0">
</div>
</div>

<div class="control-group">
<h3>Typography</h3>
<div class="control-item">
<label>Font Size</label>
<input type="range" id="fontSize" min="10" max="32" value="16">
</div>
<div class="control-item">
<label>Font Color</label>
<input type="color" id="fontColor" value="#ffffff">
</div>
</div>

<div class="control-group">
<h3>Layout & Grid</h3>
<div class="control-item">
<label>Grid Columns</label>
<input type="range" id="gridCols" min="2" max="6" value="4">
</div>
<div class="control-item">
<label>Box Size</label>
<input type="range" id="boxSize" min="80" max="250" value="150">
</div>
<div class="control-item">
<label>Grid Gap</label>
<input type="range" id="gridGap" min="0" max="50" value="0">
</div>
</div>

<div class="control-group">
<h3>Particles</h3>
<div class="control-item">
<label>Shape</label>
<select id="partShape">
<option value="circle">Circle</option>
<option value="square">Square</option>
</select>
</div>
<div class="control-item">
<label>Count</label>
<input type="range" id="partCount" min="0" max="200" value="60">
</div>
<div class="control-item">
<label>Speed</label>
<input type="range" id="partSpeed" min="0" max="5" step="0.1" value="0.5">
</div>
<div class="control-item">
<label>Size</label>
<input type="range" id="partSize" min="1" max="10" value="2">
</div>
<div class="control-item">
<label>Interact w/ Mouse</label>
<input type="checkbox" id="partInteract" checked>
</div>
</div>

<div class="control-group">
<h3>System</h3>
<button class="reset-btn" onclick="resetAll()">Reset All Settings</button>
</div>
</div>
</aside>

<script>
/* --- 1. CONFIGURATION DATA --- */
const links = [
{ name: "Nexora", url: "https://mathematicss.global.ssl.fastly.net" },
{ name: "Luminal OS", url: "https://sciencea.global.ssl.fastly.net" },
{ name: "Hideout", url: "https://artsuplies.global.ssl.fastly.net" },
{ name: "Holy Tuna", url: "https://fishingsuplies.global.ssl.fastly.net" },
{ name: "Noah Hub", url: "https://memeresetaintgonnawork.global.ssl.fastly.net" },
{ name: "Velara", url: "https://t2026soon.global.ssl.fastly.net" },
{ name: "Strongdog XP", url: "https://spanishtranslator.global.ssl.fastly.net" },
{ name: "Movie Site", url: "https://mrbeastisrich.global.ssl.fastly.net" },
{ name: "Petezah Game", url: "https://AAbattery.global.ssl.fastly.net" },
{ name: "Space", url: "https://milkyway.global.ssl.fastly.net" },
{ name: "BigTallSmall", url: "https://remeberthis.global.ssl.fastly.net" },
{ name: "Froggie Arcade", url: "https://bestone.global.ssl.fastly.net" },
{ name: "Z-Kit", url: "https://imaginethename.global.ssl.fastly.net" },
{ name: "Refind Stuff", url: "https://santaisreal.global.ssl.fastly.net" },
{ name: "Bloxcraft UBG", url: "https://goodwinterbreak.global.ssl.fastly.net" },
{ name: "Roblox", url: "https://our-ddddd.global.ssl.fastly.net" }
];

/* --- 2. INITIALIZATION --- */
window.onload = () => {
initGrid();
initParticles();
initClock();
initBattery();
initSettingsListeners();
loadSavedSettings();
};

/* --- 3. GRID SYSTEM --- */
function initGrid() {
const grid = document.getElementById('grid');
grid.innerHTML = '';
links.forEach(link => {
const box = document.createElement('a');
box.className = 'box';
box.href = link.url;
box.target = '_blank'; // Open in new tab
box.innerHTML = `<span>${link.name}</span>`;

// Add ripple effect listener
box.addEventListener('click', function(e) {
let ripple = document.createElement('div');
ripple.style.position = 'absolute';
ripple.style.width = '20px';
ripple.style.height = '20px';
ripple.style.background = 'rgba(255,255,255,0.4)';
ripple.style.borderRadius = '50%';
ripple.style.transform = 'translate(-50%, -50%) scale(0)';
ripple.style.animation = 'ripple 0.6s linear';
ripple.style.left = e.clientX - e.target.offsetLeft + 'px';
ripple.style.top = e.clientY - e.target.offsetTop + 'px';
this.appendChild(ripple);
setTimeout(() => ripple.remove(), 600);
});

grid.appendChild(box);
});
}

/* --- 4. TOP BAR WIDGETS --- */
function initClock() {
const update = () => {
const now = new Date();
document.getElementById('clock').innerText =
now.getHours().toString().padStart(2,'0') + ":" +
now.getMinutes().toString().padStart(2,'0');
};
setInterval(update, 1000);
update();
}

function initBattery() {
if('getBattery' in navigator) {
navigator.getBattery().then(bat => {
const updateBat = () => {
const level = Math.round(bat.level * 100);
document.getElementById('batLevel').innerText = level + '%';

const icon = document.getElementById('batIcon');
icon.className = 'fas';
if(level > 75) icon.classList.add('fa-battery-full');
else if(level > 50) icon.classList.add('fa-battery-three-quarters');
else if(level > 25) icon.classList.add('fa-battery-half');
else icon.classList.add('fa-battery-empty');
};
bat.addEventListener('levelchange', updateBat);
updateBat();
});
} else {
document.getElementById('batteryContainer').style.display = 'none';
}
}

function toggleSettings() {
document.getElementById('settingsPanel').classList.toggle('open');
}

/* --- 5. PARTICLE ENGINE --- */
let particles = [];
let pCtx, pCanvas;
let mouse = { x: null, y: null };
let pConfig = {
count: 60, speed: 0.5, size: 2,
shape: 'circle', interact: true,
color: 'white'
};

function initParticles() {
pCanvas = document.getElementById('particleCanvas');
pCtx = pCanvas.getContext('2d');

window.addEventListener('resize', resizeParticles);
window.addEventListener('mousemove', e => {
mouse.x = e.clientX; mouse.y = e.clientY;
});

resizeParticles();
createParticles();
animateParticles();
}

function resizeParticles() {
pCanvas.width = window.innerWidth;
pCanvas.height = window.innerHeight;
}

function createParticles() {
particles = [];
for(let i=0; i<pConfig.count; i++) {
particles.push({
x: Math.random() * pCanvas.width,
y: Math.random() * pCanvas.height,
vx: (Math.random() - 0.5) * pConfig.speed,
vy: (Math.random() - 0.5) * pConfig.speed,
size: Math.random() * pConfig.size + 1
});
}
}

function animateParticles() {
pCtx.clearRect(0,0, pCanvas.width, pCanvas.height);
pCtx.fillStyle = pConfig.color;

particles.forEach(p => {
p.x += p.vx;
p.y += p.vy;

// Bounce
if(p.x < 0 || p.x > pCanvas.width) p.vx *= -1;
if(p.y < 0 || p.y > pCanvas.height) p.vy *= -1;

pCtx.beginPath();
if(pConfig.shape === 'circle') {
pCtx.arc(p.x, p.y, p.size, 0, Math.PI*2);
} else {
pCtx.rect(p.x, p.y, p.size*2, p.size*2);
}
pCtx.fill();

// Mouse Connections
if(pConfig.interact && mouse.x) {
let dx = mouse.x - p.x;
let dy = mouse.y - p.y;
let dist = Math.sqrt(dx*dx + dy*dy);
if(dist < 120) {
pCtx.strokeStyle = `rgba(255,255,255,${1 - dist/120})`;
pCtx.lineWidth = 0.5;
pCtx.beginPath();
pCtx.moveTo(p.x, p.y);
pCtx.lineTo(mouse.x, mouse.y);
pCtx.stroke();
}
}
});
requestAnimationFrame(animateParticles);
}

/* --- 6. SETTINGS & REACTIVITY --- */
function initSettingsListeners() {
const map = [
{ id: 'bgColor', var: '--bg-color' },
{ id: 'bgGrad', var: '--bg-gradient-2' },
{ id: 'boxOpacity', var: '--box-opacity' },
{ id: 'boxRadius', var: '--box-border-radius', unit: 'px' },
{ id: 'fontSize', var: '--font-size', unit: 'px' },
{ id: 'fontColor', var: '--font-color' },
{ id: 'gridCols', var: '--grid-cols' },
{ id: 'boxSize', var: '--box-size', unit: 'px' },
{ id: 'gridGap', var: '--grid-gap', unit: 'px' },
// Special handlers
{ id: 'boxColor', callback: val => {
const rgb = hexToRgb(val);
document.documentElement.style.setProperty('--box-bg-color', `${rgb.r}, ${rgb.g}, ${rgb.b}`);
}},
{ id: 'partCount', callback: val => { pConfig.count = parseInt(val); createParticles(); }},
{ id: 'partSpeed', callback: val => { pConfig.speed = parseFloat(val); createParticles(); }},
{ id: 'partSize', callback: val => { pConfig.size = parseFloat(val); createParticles(); }},
{ id: 'partShape', callback: val => { pConfig.shape = val; }},
{ id: 'partInteract', callback: val => { pConfig.interact = val; }}
];

map.forEach(item => {
const el = document.getElementById(item.id);
if(!el) return;

el.addEventListener('input', (e) => {
const val = e.target.type === 'checkbox' ? e.target.checked : e.target.value;

if(item.var) {
document.documentElement.style.setProperty(item.var, val + (item.unit || ''));
} else if(item.callback) {
item.callback(val);
}
saveSettings();
});
});
}

function hexToRgb(hex) {
const r = parseInt(hex.slice(1, 3), 16);
const g = parseInt(hex.slice(3, 5), 16);
const b = parseInt(hex.slice(5, 7), 16);
return {r, g, b};
}

function saveSettings() {
const settings = {};
document.querySelectorAll('.settings-content input, .settings-content select').forEach(el => {
settings[el.id] = el.type === 'checkbox' ? el.checked : el.value;
});
localStorage.setItem('nexora_config', JSON.stringify(settings));
}

function loadSavedSettings() {
const saved = JSON.parse(localStorage.getItem('nexora_config'));
if(saved) {
Object.keys(saved).forEach(key => {
const el = document.getElementById(key);
if(el) {
if(el.type === 'checkbox') el.checked = saved[key];
else el.value = saved[key];
el.dispatchEvent(new Event('input')); // Trigger update
}
});
}
}

function resetAll() {
localStorage.removeItem('nexora_config');
location.reload();
}
</script>
</body>
</html>
