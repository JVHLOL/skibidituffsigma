<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Hub</title> <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
<style>
:root {
/* --- THEME ENGINE --- */
--bg-dark: #050505;
--bg-accent: #111111;
--accent-color: #ffffff;
--glass-border: rgba(255, 255, 255, 0.08);
--glass-bg: rgba(20, 20, 20, 0.6);
--blur-strength: 20px;

/* DYNAMIC VARIABLES */
--box-size: 140px;
--grid-gap: 0px;
--grid-cols: 4;
--box-opacity: 0.08;
--box-color: 255, 255, 255;
--box-radius: 0px;
--font-size: 14px;
--hover-glow: 0 0 30px rgba(255,255,255,0.15);
}

/* --- BASE STYLES --- */
body {
margin: 0;
background-color: var(--bg-dark);
color: white;
font-family: 'Inter', sans-serif;
overflow: hidden;
height: 100vh;
user-select: none; /* No text selection for cleaner feel */
}

#particleCanvas {
position: fixed;
top: 0; left: 0;
z-index: 0;
}

/* --- UI: TOP BAR --- */
.top-bar {
position: fixed;
top: 0; width: 100%;
height: 60px;
display: flex;
justify-content: space-between;
align-items: center;
padding: 0 30px;
box-sizing: border-box;
z-index: 100;
/* Invisible background, just floating elements */
pointer-events: none;
}

.top-bar > * { pointer-events: auto; } /* Re-enable clicks on buttons */

.bar-btn {
background: rgba(255,255,255,0.05);
border: 1px solid var(--glass-border);
color: #aaa;
padding: 8px 16px;
border-radius: 30px;
cursor: pointer;
transition: 0.3s;
backdrop-filter: blur(10px);
font-size: 13px;
display: flex;
align-items: center;
gap: 8px;
}

.bar-btn:hover {
background: rgba(255,255,255,0.15);
color: white;
border-color: rgba(255,255,255,0.3);
}

.status-display {
display: flex;
gap: 20px;
font-size: 13px;
color: #888;
font-variant-numeric: tabular-nums;
background: rgba(0,0,0,0.3);
padding: 8px 16px;
border-radius: 30px;
border: 1px solid var(--glass-border);
backdrop-filter: blur(10px);
}

/* --- GRID SYSTEM --- */
main {
height: 100vh;
display: flex;
justify-content: center;
align-items: center;
position: relative;
z-index: 10;
}

.grid-container {
display: grid;
grid-template-columns: repeat(var(--grid-cols), var(--box-size));
grid-auto-rows: var(--box-size);
gap: var(--grid-gap);
transition: all 0.5s cubic-bezier(0.2, 0.8, 0.2, 1);
}

.box {
background: rgba(var(--box-color), var(--box-opacity));
border: 1px solid var(--glass-border);
display: flex;
justify-content: center;
align-items: center;
text-decoration: none;
color: rgba(255,255,255,0.7);
font-size: var(--font-size);
transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
position: relative;
border-radius: var(--box-radius);
}

.box:hover {
transform: scale(1.1);
z-index: 20;
background: rgba(var(--box-color), calc(var(--box-opacity) + 0.15));
box-shadow: var(--hover-glow);
color: white;
border-color: rgba(255,255,255,0.5);
}

/* --- REVAMPED SETTINGS PANEL --- */
.settings-overlay {
position: fixed;
top: 0; right: -420px;
width: 400px;
height: 100%;
background: rgba(10, 10, 10, 0.85);
backdrop-filter: blur(40px);
border-left: 1px solid var(--glass-border);
z-index: 200;
transition: right 0.5s cubic-bezier(0.19, 1, 0.22, 1);
box-shadow: -10px 0 50px rgba(0,0,0,0.5);
display: flex;
flex-direction: column;
}

.settings-overlay.open { right: 0; }

.settings-header {
padding: 25px;
border-bottom: 1px solid var(--glass-border);
display: flex;
justify-content: space-between;
align-items: center;
}

.settings-header h2 { margin: 0; font-size: 18px; font-weight: 600; letter-spacing: -0.5px;}

.settings-body {
flex: 1;
overflow-y: auto;
padding: 25px;
}

/* Modern UI Controls */
.section-title {
font-size: 11px;
text-transform: uppercase;
color: #555;
letter-spacing: 1.5px;
margin: 25px 0 15px 0;
font-weight: 700;
}
.section-title:first-child { margin-top: 0; }

.control-row {
display: flex;
justify-content: space-between;
align-items: center;
margin-bottom: 20px;
}

.control-label { font-size: 13px; color: #ddd; }

/* Custom Slider */
input[type=range] {
-webkit-appearance: none;
width: 140px;
height: 4px;
background: #333;
border-radius: 2px;
outline: none;
}
input[type=range]::-webkit-slider-thumb {
-webkit-appearance: none;
width: 16px; height: 16px;
background: #fff;
border-radius: 50%;
cursor: pointer;
box-shadow: 0 0 10px rgba(255,255,255,0.5);
transition: transform 0.1s;
}
input[type=range]::-webkit-slider-thumb:hover { transform: scale(1.2); }

/* Custom Dropdown */
select {
background: #222;
color: white;
border: 1px solid #444;
padding: 6px 12px;
border-radius: 6px;
font-family: inherit;
font-size: 12px;
outline: none;
}

/* Color Picker Wrapper */
.color-wrapper {
width: 25px; height: 25px;
border-radius: 50%;
overflow: hidden;
border: 2px solid #fff;
cursor: pointer;
}
input[type="color"] {
width: 150%; height: 150%;
transform: translate(-25%, -25%);
border: none; background: none; cursor: pointer;
}

/* Custom Toggle Switch */
.toggle-switch {
position: relative;
display: inline-block;
width: 40px; height: 22px;
}
.toggle-switch input { opacity: 0; width: 0; height: 0; }
.slider {
position: absolute;
cursor: pointer;
top: 0; left: 0; right: 0; bottom: 0;
background-color: #333;
border-radius: 22px;
transition: .4s;
}
.slider:before {
position: absolute;
content: "";
height: 16px; width: 16px;
left: 3px; bottom: 3px;
background-color: white;
border-radius: 50%;
transition: .4s;
}
input:checked + .slider { background-color: #fff; }
input:checked + .slider:before { transform: translateX(18px); background-color: #000; }

</style>
</head>
<body>

<canvas id="particleCanvas"></canvas>

<nav class="top-bar">
<button class="bar-btn" onclick="toggleSettings()">
<i class="fas fa-sliders-h"></i> Customize
</button>

<div class="status-display">
<span id="clock">00:00</span>
<span style="opacity:0.3">|</span>
<i class="fas fa-bolt" style="color: #fff;"></i>
<span id="batLevel">100%</span>
</div>
</nav>

<main>
<div id="grid" class="grid-container"></div>
</main>

<aside class="settings-overlay" id="settingsPanel">
<div class="settings-header">
<h2>Experience</h2>
<button class="bar-btn" onclick="toggleSettings()" style="padding:6px 12px;"><i class="fas fa-times"></i></button>
</div>

<div class="settings-body">

<div class="section-title">Visuals</div>
<div class="control-row">
<span class="control-label">Box Opacity</span>
<input type="range" id="boxOpacity" min="0" max="1" step="0.05" value="0.08">
</div>
<div class="control-row">
<span class="control-label">Box Tint</span>
<div class="color-wrapper"><input type="color" id="boxColor" value="#ffffff"></div>
</div>
<div class="control-row">
<span class="control-label">Corner Radius</span>
<input type="range" id="boxRadius" min="0" max="70" value="0">
</div>

<div class="section-title">Layout</div>
<div class="control-row">
<span class="control-label">Grid Size</span>
<input type="range" id="boxSize" min="80" max="250" value="140">
</div>
<div class="control-row">
<span class="control-label">Columns</span>
<input type="range" id="gridCols" min="2" max="6" value="4">
</div>
<div class="control-row">
<span class="control-label">Spacing</span>
<input type="range" id="gridGap" min="0" max="50" value="0">
</div>

<div class="section-title">Motion & Physics</div>
<div class="control-row">
<span class="control-label">Particle Shape</span>
<select id="partShape">
<option value="circle">Circle</option>
<option value="square">Square</option>
<option value="triangle">Triangle</option>
<option value="star">Star</option>
<option value="hexagon">Hexagon</option>
</select>
</div>
<div class="control-row">
<span class="control-label">Particle Trails</span>
<label class="toggle-switch">
<input type="checkbox" id="partTrails">
<span class="slider"></span>
</label>
</div>
<div class="control-row">
<span class="control-label">Speed</span>
<input type="range" id="partSpeed" min="0" max="4" step="0.1" value="0.4">
</div>
<div class="control-row">
<span class="control-label">Density</span>
<input type="range" id="partCount" min="20" max="150" value="60">
</div>

<div class="section-title">System</div>
<button class="bar-btn" style="width:100%; justify-content:center; background:#331111; border-color:#552222;" onclick="resetAll()">
Reset to Default
</button>
</div>
</aside>

<script>
/* --- LINKS DATA --- */
const links = [
{ name: "Nexora", url: "https://mathematicss.global.ssl.fastly.net" },
{ name: "Luminal OS", url: "https://sciencea.global.ssl.fastly.net" },
{ name: "Hideout", url: "https://artsuplies.global.ssl.fastly.net" },
{ name: "Holy Tuna", url: "https://fishingsuplies.global.ssl.fastly.net" },
{ name: "Noah Hub", url: "https://memeresetaintgonnawork.global.ssl.fastly.net" },
{ name: "Velara", url: "https://t2026soon.global.ssl.fastly.net" },
{ name: "Strongdog XP", url: "https://spanishtranslator.global.ssl.fastly.net" },
{ name: "Movie Site", url: "https://mrbeastisrich.global.ssl.fastly.net" },
{ name: "Petezah Game", url: "https://AAbattery.global.ssl.fastly.net" },
{ name: "Space", url: "https://milkyway.global.ssl.fastly.net" },
{ name: "BigTallSmall", url: "https://remeberthis.global.ssl.fastly.net" },
{ name: "Froggie Arcade", url: "https://bestone.global.ssl.fastly.net" },
{ name: "Z-Kit", url: "https://imaginethename.global.ssl.fastly.net" },
{ name: "Refind Stuff", url: "https://santaisreal.global.ssl.fastly.net" },
{ name: "Bloxcraft UBG", url: "https://goodwinterbreak.global.ssl.fastly.net" },
{ name: "Roblox", url: "https://our-ddddd.global.ssl.fastly.net" }
];

/* --- CORE INITIALIZATION --- */
window.onload = () => {
renderGrid();
initParticles();
startClock();
startBattery();
bindSettings();
loadSettings();
};

function renderGrid() {
const grid = document.getElementById('grid');
grid.innerHTML = '';
links.forEach(link => {
const a = document.createElement('a');
a.className = 'box';
a.href = link.url;
a.target = '_blank';
a.innerHTML = `<span style="pointer-events:none">${link.name}</span>`;
grid.appendChild(a);
});
}

function startClock() {
const update = () => {
const now = new Date();
document.getElementById('clock').innerText =
now.getHours().toString().padStart(2,'0') + ":" +
now.getMinutes().toString().padStart(2,'0');
}
setInterval(update, 1000); update();
}

function startBattery() {
if('getBattery' in navigator) {
navigator.getBattery().then(b => {
const up = () => document.getElementById('batLevel').innerText = Math.round(b.level*100) + '%';
b.addEventListener('levelchange', up); up();
});
}
}

function toggleSettings() {
document.getElementById('settingsPanel').classList.toggle('open');
}

/* --- ADVANCED PARTICLE ENGINE --- */
const canvas = document.getElementById('particleCanvas');
const ctx = canvas.getContext('2d');
let particles = [];
let config = {
count: 60, speed: 0.4, shape: 'circle',
trails: false, color: 'white'
};

function initParticles() {
window.addEventListener('resize', resize);
resize();
createParticles();
loop();
}

function resize() {
canvas.width = window.innerWidth;
canvas.height = window.innerHeight;
}

function createParticles() {
particles = [];
for(let i=0; i<config.count; i++) {
particles.push({
x: Math.random() * canvas.width,
y: Math.random() * canvas.height,
vx: (Math.random() - 0.5) * config.speed,
vy: (Math.random() - 0.5) * config.speed,
size: Math.random() * 3 + 1,
rot: Math.random() * 360,
rotSpeed: (Math.random()-0.5) * 2
});
}
}

function drawShape(p) {
ctx.save();
ctx.translate(p.x, p.y);
ctx.rotate(p.rot * Math.PI / 180);
ctx.beginPath();

const s = p.size;

if (config.shape === 'square') {
ctx.rect(-s, -s, s*2, s*2);
}
else if (config.shape === 'triangle') {
ctx.moveTo(0, -s);
ctx.lineTo(s, s);
ctx.lineTo(-s, s);
ctx.closePath();
}
else if (config.shape === 'star') {
for (let i = 0; i < 5; i++) {
ctx.lineTo(Math.cos((18+i*72)*Math.PI/180)*s*1.5, -Math.sin((18+i*72)*Math.PI/180)*s*1.5);
ctx.lineTo(Math.cos((54+i*72)*Math.PI/180)*s*0.6, -Math.sin((54+i*72)*Math.PI/180)*s*0.6);
}
ctx.closePath();
}
else if (config.shape === 'hexagon') {
for (let i = 0; i < 6; i++) {
ctx.lineTo(s * Math.cos(i * 2 * Math.PI / 6), s * Math.sin(i * 2 * Math.PI / 6));
}
ctx.closePath();
}
else { // Circle default
ctx.arc(0, 0, s, 0, Math.PI*2);
}

ctx.fillStyle = `rgba(255,255,255, ${config.trails ? 0.8 : 0.3})`;
ctx.fill();
ctx.restore();
}

function loop() {
if (config.trails) {
// Fade out effect for trails
ctx.fillStyle = 'rgba(5, 5, 5, 0.2)';
ctx.fillRect(0, 0, canvas.width, canvas.height);
} else {
ctx.clearRect(0, 0, canvas.width, canvas.height);
}

particles.forEach(p => {
p.x += p.vx;
p.y += p.vy;
p.rot += p.rotSpeed;

if(p.x < 0 || p.x > canvas.width) p.vx *= -1;
if(p.y < 0 || p.y > canvas.height) p.vy *= -1;

drawShape(p);
});
requestAnimationFrame(loop);
}

/* --- SETTINGS LOGIC --- */
function bindSettings() {
const map = [
{ id: 'boxOpacity', var: '--box-opacity' },
{ id: 'boxRadius', var: '--box-radius', unit: 'px' },
{ id: 'boxSize', var: '--box-size', unit: 'px' },
{ id: 'gridGap', var: '--grid-gap', unit: 'px' },
{ id: 'gridCols', var: '--grid-cols' },
{ id: 'boxColor', callback: val => {
const rgb = parseInt(val.slice(1,3),16)+','+parseInt(val.slice(3,5),16)+','+parseInt(val.slice(5,7),16);
document.documentElement.style.setProperty('--box-color', rgb);
}},
{ id: 'partSpeed', callback: val => { config.speed = parseFloat(val); createParticles(); }},
{ id: 'partCount', callback: val => { config.count = parseInt(val); createParticles(); }},
{ id: 'partShape', callback: val => { config.shape = val; }},
{ id: 'partTrails', callback: val => { config.trails = val; }}
];

map.forEach(item => {
const el = document.getElementById(item.id);
el.addEventListener('input', e => {
const val = el.type === 'checkbox' ? el.checked : el.value;
if(item.var) document.documentElement.style.setProperty(item.var, val + (item.unit||''));
if(item.callback) item.callback(val);
saveSettings();
});
});
}

function saveSettings() {
const data = {};
document.querySelectorAll('input, select').forEach(el => data[el.id] = el.type==='checkbox'?el.checked:el.value);
localStorage.setItem('nexora_v2', JSON.stringify(data));
}

function loadSettings() {
const saved = JSON.parse(localStorage.getItem('nexora_v2'));
if(saved) Object.keys(saved).forEach(k => {
const el = document.getElementById(k);
if(el) {
if(el.type==='checkbox') el.checked = saved[k];
else el.value = saved[k];
el.dispatchEvent(new Event('input'));
}
});
}

function resetAll() {
localStorage.removeItem('nexora_v2');
location.reload();
}
</script>
</body>
</html>
